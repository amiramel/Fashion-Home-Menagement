 <div class="col-md-offset-2 col-md-8">              
        <div class="row">
            <div class="col-md-12">
                <h1 class="page-header">כל הלקוחות</h1>
            </div> 
        </div>
</div>
<div class="row">
        <div class="col-md-10 col-md-offset-1">
            <div class="panel panel-default">
                <div class="panel-heading">
                    סינון לפי זמן
                </div>
                <div class="panel-body">
                   מתאריך 
                    <input type="date" ng-model="startDate" required>
                  עד תאריך 
                    <input type="date"  ng-model="endDate" required>
                
                    <button ng-click="getBrdideByDate(startDate,endDate)"  > חפש</button>
                </div>
            </div>
        </div>
</div>


<div class="row" >
        <div class="col-md-10 col-md-offset-1" ng-show="!filterDate">
            <div class="panel panel-default panel-table" >
                <div class="panel-heading">
                    <div class="row">
                        <div class="col col-xs-6 text-left">
                            מס' רשומות    <select ng-model="pageSize" >
                                    <option>5</option>
                                     <option>10</option>
                                      <option>20</option>
                                       <option>25</option>
                                </select>
                              &nbsp&nbsp
                            <i class="fa fa-file-excel-o fa-lg " style="color:green "aria-hidden="true" ng-click="exportData()"></i>         

   
                            <!--<i class="fa fa-file-pdf-o fa-lg"  style="color:red " aria-hidden="true" ng-click="$('#customers').tableExport2({ type: 'pdf', pdfFontSize: '7', escape: 'false' });"></i>-->
                        </div>
                 
                        <div class="col col-xs-6 text-right">
                            <div class="pull-right">
                                <div class="btn-group" data-toggle="buttons">
                                    <label>
                                        <input ng-model="serchText" placeholder= "חיפוש" style="float: left" autocomplete="on">                                
                                    </label>
                     
                                </div>
                            </div>
                        </div>
                       
                    </div>
                </div>
                <div class="panel-body"  id="exportable"  >
                    <table id="mytable" class="table table-striped table-bordered table-list"  >
                        <thead>
                        <tr>
                            <!--<th class="col-check"><input type="checkbox" id="checkall" onclick="test()"/></th>-->
                            <!--<th class="col-text"  style="text-align: center" ng-click="sort('$index')">מס<span class="glyphicon sort-icon" ng-show="sortKey=='$index'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>-->
                            <th class="col-text"  style="text-align: center" ng-click="sort('status')"> סטאטוס  <span class="glyphicon sort-icon" ng-show="sortKey=='status'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
                            <th class="col-text"  style="text-align: center" ng-click="sort('first_name')"> שם <span class="glyphicon sort-icon" ng-show="sortKey=='first_name'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
                            <th class="col-text"  style="text-align: center" ng-click="sort('last_name')"> משפחה <span class="glyphicon sort-icon" ng-show="sortKey=='last_name'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
                            <th class="col-text"  style="text-align: center" ng-show= "user_role == 1 || user_role == 2"  ng-click="sort('phone1')"> פלאפון <span class="glyphicon sort-icon" ng-show="sortKey=='phone1'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
                            <th class="col-text"  style="text-align: center" ng-click="sort('date_event')"> תאריך אירוע <span class="glyphicon sort-icon" ng-show="sortKey=='date_event'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span> </th>
                            <th class="col-text"  style="text-align: center" ng-show= "user_role == 1 || user_role == 2" ng-click="sort('day_service')"> יום שירות <span class="glyphicon sort-icon" ng-show="sortKey=='day_service'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span> </th>
                            <th class="col-tools" style="text-align: center"><span class="glyphicon glyphicon-wrench" aria-hidden="true"></span>
                            </th>

                        </tr>
                        </thead>
                        <p>{{data.length}} כמות הלקוחות</p>
                        <tbody >
                            
                            <tr  class="bride" dir-paginate="bride in brides |orderBy:sortKey:reverse|filter:serchText | itemsPerPage:pageSize">
                                <!--<td align="center"><input type="checkbox" class="checkthis"/></td>-->
                                <!--<td align="center"> {{$index + 1}}</td>-->
                                <!--<td align="center">{{bride.id}}</td>-->
                                <td align="center">{{bride.status}}</td>
                                <td align="center">{{bride.first_name}}</td>
                                <td align="center">{{bride.last_name}}</td>
                                <td align="center" ng-show= "user_role == 1 || user_role == 2">{{"0" +bride.phone1}}</td>
                                <td align="center">{{bride.date_event | date:"dd/MM/yy"}}</td>
                                <td align="center" ng-show= "user_role == 1 || user_role == 2">{{bride.day_service}}</td>
                     
                                <td align="center">
                                    <button type="button" class="btn btn-primary" ng-click="stageRoute(bride._id)" ng-show= "user_role == 1 || user_role == 2"  data-toggle="tooltip" data-placement="top" title="שלבי שמלה "><i class="fa fa-sitemap" aria-hidden="true" ></i>  </button>
                                    <button  type="button" class=" btn btn-info" ng-click="brideInfoRoute(bride._id)"   data-toggle="tooltip" data-placement="top" title="מעבר לכרטיס לקוח"><i class="fa fa-address-card-o" ></i></button>
                                    <button type="button" class="btn btn-danger" ng-click="delOne(bride._id)" ng-show=" user_role == 1 "  data-toggle="tooltip" data-placement="top" title="מחיקה"><i class="fa fa-trash-o" aria-hidden="true"></i>  </button>
                                </td>
                            </tr>
                        </tbody>
               
                    </table>

                </div>
                <div class="panel-footer">
                    <div class="row" >
                            <div align="center">
                                <dir-pagination-controls
                                    max-size="5"
                                    direction-links="true"
                                    boundary-links="true" >
                                </dir-pagination-controls>
                           
                            </div>   
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-10 col-md-offset-1" ng-show="filterDate"> 
            <div class="panel panel-default panel-table" >
                <div class="panel-heading">
                    <div class="row">
                        <div class="col col-xs-6 text-left">
                            מס' רשומות    <select ng-model="pageSize" >
                                    <option>5</option>
                                     <option>10</option>
                                      <option>20</option>
                                       <option>25</option>
                                </select>
                              &nbsp&nbsp
                            <i class="fa fa-file-excel-o fa-lg " style="color:green "aria-hidden="true" ng-click="exportData()"></i>         

   
                            <!--<i class="fa fa-file-pdf-o fa-lg"  style="color:red " aria-hidden="true" ng-click="$('#customers').tableExport2({ type: 'pdf', pdfFontSize: '7', escape: 'false' });"></i>-->
                        </div>
                 
                        <div class="col col-xs-6 text-right">
                            <div class="pull-right">
                                <div class="btn-group" data-toggle="buttons">
                                    <label>
                                        <input ng-model="serchText" placeholder= "חיפוש" style="float: left" autocomplete="on">                                
                                    </label>
                     
                                </div>
                            </div>
                        </div>
                       
                    </div>
                </div>
                <div class="panel-body"  id="exportable">
                    <table id="mytable" class="table table-striped table-bordered table-list"  >
                        <thead>
                        <tr>
                            <!--<th class="col-check"><input type="checkbox" id="checkall" onclick="test()"/></th>-->
                            <!--<th class="col-text"  style="text-align: center" ng-click="sort('$index')">מס<span class="glyphicon sort-icon" ng-show="sortKey=='$index'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>-->
                            <th class="col-text"  style="text-align: center" ng-click="sort('status')"> סטאטוס  <span class="glyphicon sort-icon" ng-show="sortKey=='status'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
                            <th class="col-text"  style="text-align: center" ng-click="sort('first_name')"> שם <span class="glyphicon sort-icon" ng-show="sortKey=='first_name'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
                            <th class="col-text"  style="text-align: center" ng-click="sort('last_name')"> משפחה <span class="glyphicon sort-icon" ng-show="sortKey=='last_name'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
                            <th class="col-text"  style="text-align: center" ng-show= "user_role == 1 || user_role == 2"  ng-click="sort('phone1')"> פלאפון <span class="glyphicon sort-icon" ng-show="sortKey=='phone1'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
                            <th class="col-text"  style="text-align: center" ng-click="sort('date_event')"> תאריך אירוע <span class="glyphicon sort-icon" ng-show="sortKey=='date_event'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span> </th>
                            <th class="col-text"  style="text-align: center" ng-show= "user_role == 1 || user_role == 2" ng-click="sort('day_service')"> יום שירות <span class="glyphicon sort-icon" ng-show="sortKey=='day_service'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span> </th>
                            <th class="col-tools" style="text-align: center"><span class="glyphicon glyphicon-wrench" aria-hidden="true"></span>
                            </th>

                        </tr>
                        </thead>
                        <p>{{brideByDate.length}} כמות הלקוחות</p>
                        <tbody > 
                            <tr  class="bride" dir-paginate="bride in brideByDate |orderBy:sortKey:reverse|filter:serchText | itemsPerPage:pageSize">
                                <td align="center">{{bride.status}}</td>
                                <td align="center">{{bride.first_name}}</td>
                                <td align="center">{{bride.last_name}}</td>
                                <td align="center" ng-show= "user_role == 1 || user_role == 2">{{"0" +bride.phone1}}</td>
                                <td align="center">{{bride.date_event | date:"dd/MM/yy"}}</td>
                                <td align="center" ng-show= "user_role == 1 || user_role == 2">{{bride.day_service}}</td>
                     
                                <td align="center">
                                    <button type="button" class="btn btn-primary" ng-click="stageRoute(bride._id)" ng-show= "user_role == 1 || user_role == 2"  data-toggle="tooltip" data-placement="top" title="שלבי שמלה "><i class="fa fa-sitemap" aria-hidden="true" ></i>  </button>
                                    <button  type="button" class=" btn btn-info" ng-click="brideInfoRoute(bride._id)"   data-toggle="tooltip" data-placement="top" title="מעבר לכרטיס לקוח"><i class="fa fa-address-card-o" ></i></button>
                                    <button type="button" class="btn btn-danger" ng-click="delOne(bride._id)" ng-show=" user_role == 1 "  data-toggle="tooltip" data-placement="top" title="מחיקה"><i class="fa fa-trash-o" aria-hidden="true"></i>  </button>
                                </td>
                            </tr>
                        </tbody>
               
                    </table>

                </div>
                <div class="panel-footer">
                    <div class="row" >
                            <div align="center">
                                <dir-pagination-controls
                                    max-size="5"
                                    direction-links="true"
                                    boundary-links="true" >
                                </dir-pagination-controls>
                           
                            </div>   
                    </div>
                </div>
            </div>
        </div>
</div>

